## 2.1 Autocorrect

## Study Notes

### 1. üì± What is Autocorrect?

Autocorrect is a feature commonly found on phones, tablets, and computers that automatically detects and corrects spelling mistakes in text. When you type a message or document, autocorrect helps by identifying words that might be misspelled and suggesting or replacing them with the correct spelling. For example, if you type "deah friend," autocorrect can recognize that "deah" is likely a misspelling of "dear" and fix it for you.

Autocorrect is especially useful because it saves time and reduces errors in everyday communication. It works by analyzing the typed word, comparing it to a dictionary or corpus of known words, and then deciding the most probable correction based on how close the misspelled word is to real words and how common those words are.


### 2. üîç How Does Autocorrect Work?

Autocorrect operates through a series of steps to identify and fix misspelled words:

1. **Identify a Misspelled Word:** The system first detects that a word is not spelled correctly. This usually means the word is not found in the dictionary or corpus of known words.

2. **Find Strings Within an Edit Distance:** The system generates a list of candidate words that are "close" to the misspelled word. "Close" here means words that can be reached by making a small number of edits (like adding, deleting, or changing letters).

3. **Filter Candidates:** From the list of possible corrections, the system filters out unlikely candidates based on rules or heuristics.

4. **Calculate Word Probabilities:** Finally, the system calculates the probability of each candidate word appearing in normal language use, often based on frequency in a large text corpus. The candidate with the highest probability is chosen as the correction.

For example, if the input is "deah," the system might consider candidates like "dear," "deer," "yeah," and "dean." After filtering and probability calculation, "dear" is selected as the best correction.


### 3. ‚úèÔ∏è Understanding Edit Distance and Edits

A key concept in autocorrect is the **edit distance**, which measures how many changes (edits) are needed to transform one word into another. The fewer edits needed, the closer the words are.

There are four main types of edits:

- **Insert:** Add a letter.  
  Example: "to" ‚Üí "top" (insert 'p'), "to" ‚Üí "two" (insert 'w').

- **Delete:** Remove a letter.  
  Example: "hat" ‚Üí "ha" (delete 't'), "hat" ‚Üí "at" (delete 'h').

- **Switch (Transpose):** Swap two adjacent letters.  
  Example: "eta" ‚Üí "eat" or "tea" (switch letters).

- **Replace:** Change one letter to another.  
  Example: "jaw" ‚Üí "jar" (replace 'w' with 'r').

By applying these edits, autocorrect generates candidate words that are within a certain "edit distance" from the misspelled word.


### 4. üßÆ Building the Autocorrect Model Step-by-Step

Let's break down the process of building an autocorrect model in detail:

#### Step 1: Identify a Misspelled Word  
The model first checks if the input word exists in the dictionary. If not, it flags it as misspelled.

#### Step 2: Find Strings n Edit Distance Away  
The model generates all possible words that are within a certain number of edits (usually 1 or 2) from the misspelled word. For example, for "deah," it might generate "_eah," "d_ar," "de_r," etc., by applying insertions, deletions, switches, and replacements.

#### Step 3: Filter Candidates  
From the generated list, the model filters out words that are not in the dictionary or are unlikely to be correct.

#### Step 4: Calculate Word Probabilities  
The model calculates the probability of each candidate word based on how often it appears in a large corpus of text. For example, if "dear" appears frequently and "dean" less so, "dear" will have a higher probability.

The candidate with the highest probability is chosen as the correction.


### 5. üìä Calculating Word Probabilities

Word probability is a crucial part of deciding which candidate word is the best correction. It is calculated as:

\[
\text{Probability of a word} = \frac{\text{Number of times the word appears in the corpus}}{\text{Total number of words in the corpus}}
\]

For example, in the sentence "I am happy because I am learning," the total number of words is 7. If "happy" appears once, its probability is 1/7.

This probability helps the autocorrect system prefer more common words over rare ones when multiple candidates have the same edit distance.


### 6. üî¢ Minimum Edit Distance: Measuring Similarity Between Words

Minimum edit distance is a way to quantify how similar two strings (words) are by counting the smallest number of edits needed to change one word into the other. This concept is widely used not only in autocorrect but also in areas like DNA sequencing, machine translation, and document similarity.

For example, to change "play" into "stay," you might:

- Replace 'p' with 's'  
- Replace 'l' with 't'

This requires 2 edits, so the minimum edit distance is 2.

Each edit can have a cost (e.g., insert = 1, delete = 1, replace = 2), and the total cost is the sum of the costs of all edits.


### 7. üß© Minimum Edit Distance Algorithm (Dynamic Programming)

Calculating minimum edit distance efficiently uses a dynamic programming approach. The idea is to build a matrix \(D\) where each cell \(D[i, j]\) represents the minimum edit distance between the first \(i\) characters of the source word and the first \(j\) characters of the target word.

The algorithm works as follows:

- **Initialization:**  
  \(D[0,0] = 0\) (empty string to empty string)  
  \(D[i,0] = i \times \text{delete cost}\) (source prefix to empty target)  
  \(D[0,j] = j \times \text{insert cost}\) (empty source to target prefix)

- **Recurrence:** For each \(i, j\),  
  \[
  D[i,j] = \min \begin{cases}
  D[i-1, j] + \text{delete cost} \\
  D[i, j-1] + \text{insert cost} \\
  D[i-1, j-1] + \text{replace cost if characters differ, else 0}
  \end{cases}
  \]

This means the cost to transform the first \(i\) letters of the source into the first \(j\) letters of the target is the minimum of:

- Deleting a character from the source  
- Inserting a character into the source  
- Replacing a character (or no cost if characters are the same)

By filling out this matrix, the algorithm finds the minimum cost to convert the entire source word into the target word.


### 8. üîÑ Example: Minimum Edit Distance from "play" to "stay"

Let's apply the algorithm to transform "play" into "stay" with costs: insert = 1, delete = 1, replace = 2.

- Replace 'p' with 's' (cost 2)  
- Replace 'l' with 't' (cost 2)  
- 'a' matches 'a' (cost 0)  
- 'y' matches 'y' (cost 0)

Total cost = 2 + 2 = 4

The matrix \(D\) would reflect these costs, and the minimum edit distance is 4.


### 9. üìù Summary of Autocorrect and Minimum Edit Distance

To wrap up:

- **Autocorrect** helps fix misspelled words by identifying errors, generating candidate corrections based on edit distance, filtering candidates, and selecting the most probable word.

- **Edit distance** measures how many changes are needed to turn one word into another, using insertions, deletions, switches, and replacements.

- **Minimum edit distance algorithm** uses dynamic programming to efficiently compute the smallest number of edits (and their cost) to transform one string into another.

- This process is fundamental not only for autocorrect but also for many applications in natural language processing and bioinformatics.



<br>

## Key Points

#### 1. üì± Autocorrect Basics  
- Autocorrect automatically detects and corrects misspelled words on phones, tablets, and computers.  
- It works by identifying misspelled words, generating candidate corrections, filtering candidates, and selecting the most probable correction based on word probabilities.

#### 2. ‚úèÔ∏è Edit Operations in Autocorrect  
- Four main edit operations: Insert (add a letter), Delete (remove a letter), Switch (swap two adjacent letters), Replace (change one letter to another).  
- Candidate words are generated by applying these edits within a certain edit distance from the misspelled word.

#### 3. üîç Autocorrect Model Steps  
- Step 1: Identify a misspelled word (not found in dictionary).  
- Step 2: Find all candidate words within n edit distance.  
- Step 3: Filter candidates to keep only valid dictionary words.  
- Step 4: Calculate word probabilities to select the most likely correction.

#### 4. üìä Word Probability Calculation  
- Probability of a word = (Number of times the word appears in corpus) / (Total number of words in corpus).  
- Higher probability words are preferred as corrections.

#### 5. üî¢ Minimum Edit Distance Definition  
- Minimum edit distance is the smallest number of edits needed to transform one string into another.  
- Used in spelling correction, document similarity, machine translation, DNA sequencing, etc.

#### 6. üßÆ Edit Costs  
- Typical costs: Insert = 1, Delete = 1, Replace = 2 (can vary by implementation).  
- Total edit cost is the sum of individual edit operation costs.

#### 7. üß© Minimum Edit Distance Algorithm (Dynamic Programming)  
- Uses a matrix \(D\) where \(D[i,j]\) is the minimum edit distance between source[:i] and target[:j].  
- Initialization: \(D[i,0] = i \times \text{delete cost}\), \(D[0,j] = j \times \text{insert cost}\).  
- Recurrence:  
  \[
  D[i,j] = \min \begin{cases}
  D[i-1,j] + \text{delete cost} \\
  D[i,j-1] + \text{insert cost} \\
  D[i-1,j-1] + \text{replace cost if characters differ, else 0}
  \end{cases}
  \]

#### 8. üîÑ Example of Minimum Edit Distance  
- To convert "play" to "stay": replace 'p' ‚Üí 's' (cost 2), replace 'l' ‚Üí 't' (cost 2), total cost = 4.  
- The algorithm finds the minimum cost path through insertions, deletions, and replacements.