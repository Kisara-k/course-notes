## 5. RAG Systems in Production

## Questions

#### 1. What are the primary challenges when scaling a RAG system in production?  
A) Increased latency and load on memory and compute resources  
B) Predictable user prompts that simplify testing  
C) Maintaining high performance while handling more traffic  
D) Decreasing the number of requests to reduce costs  

#### 2. Why is unpredictability of user prompts a significant challenge for RAG systems?  
A) Because users often ask questions that are nonsensical or out of scope  
B) Because all prompts can be anticipated with enough testing  
C) Because unpredictable prompts can cause unexpected system failures  
D) Because it allows the system to cache all possible responses  

#### 3. Which of the following are common issues with real-world data used in RAG systems?  
A) Data is often fragmented and missing metadata  
B) Data is always clean and well-structured  
C) Much data is non-textual, such as images and PDFs  
D) Data extraction tools are unnecessary for knowledge base construction  

#### 4. What are the key software performance metrics to monitor in a RAG system?  
A) Latency, throughput, memory usage, and compute usage  
B) User satisfaction and response quality  
C) Number of human feedback ratings collected  
D) Token usage and citation accuracy  

#### 5. Which evaluation method balances cost and flexibility by using a language model to judge relevance?  
A) Code-based evaluators  
B) Human feedback  
C) LLM as a judge  
D) Automated unit tests  

#### 6. What is the main benefit of using human feedback in RAG system evaluation?  
A) It is the cheapest evaluation method  
B) It captures nuances that automated methods miss  
C) It requires no manual effort  
D) It can be scaled infinitely without cost  

#### 7. How does caching improve latency in RAG systems?  
A) By skipping the retrieval step entirely  
B) By returning cached responses for similar prompts immediately  
C) By feeding cached responses and user prompts to a small LLM for personalization  
D) By increasing the number of documents retrieved  

#### 8. Which of the following are true about quantization in RAG systems?  
A) It reduces model size by converting parameters to lower-bit integers  
B) It always causes significant drops in model accuracy  
C) 8-bit quantization offers a good balance between compression and performance  
D) 1-bit quantization compresses models by 32x but may reduce quality noticeably  

#### 9. What are effective strategies to reduce vector database costs?  
A) Store the entire index in RAM regardless of size  
B) Move rarely accessed vectors to slower storage like SSD or cloud object storage  
C) Use multi-tenancy to separate tenant data and load only what is needed  
D) Avoid sharding indexes across multiple instances  

#### 10. Why is latency primarily caused by the transformer component in a RAG pipeline?  
A) Because retrieval and database queries are computationally expensive  
B) Because transformer-based LLM calls require significant compute time  
C) Because rerankers always add the most latency  
D) Because caching eliminates all latency from transformers  

#### 11. Which of the following are valid methods to secure a RAG knowledge base?  
A) Authenticate users to restrict access to authorized data only  
B) Store all tenant data in a single database without separation  
C) Encrypt text chunks and decrypt them only when building prompts  
D) Run the entire RAG system locally on-premises for maximum control  

#### 12. What risks are associated with vector databases in RAG systems?  
A) Vector reconstruction attacks that recover original text from embeddings  
B) Complete immunity to hacking due to encryption  
C) Data leakage if vectors are stored unencrypted  
D) No risk because vectors cannot be reverse-engineered  

#### 13. In multimodal RAG systems, what is the role of a multimodal embedding model?  
A) To represent text and images in a shared vector space  
B) To process only text data for retrieval  
C) To tokenize images into patch-based tokens for transformer input  
D) To separate text and image processing into different pipelines  

#### 14. How does PDF RAG handle information-dense documents like slides and PDFs?  
A) By treating the entire document as a single vector  
B) By splitting documents into patches and vectorizing each patch  
C) By ignoring images and charts in the document  
D) By using sophisticated detection algorithms to extract text only  

#### 15. Which of the following best describes the trade-offs involved in production RAG system optimization?  
A) Always prioritize response quality over cost and latency  
B) Balance cost, speed, and quality to meet application requirements  
C) Minimize latency at the expense of system security  
D) Ignore user satisfaction metrics to reduce compute costs  

#### 16. What is the purpose of a router LLM in a RAG pipeline?  
A) To generate final responses to user prompts  
B) To skip unnecessary processing steps and reduce latency  
C) To cache responses for repeated queries  
D) To encrypt knowledge base documents  

#### 17. Why might you choose to quantize embedding vectors before retrieval?  
A) To increase recall@K benchmarks significantly  
B) To reduce memory footprint and speed up retrieval with minimal quality loss  
C) To make vectors incompatible with approximate nearest neighbor (ANN) algorithms  
D) To eliminate the need for reranking  

#### 18. How can multi-tenancy improve vector database efficiency?  
A) By storing all users’ data in a single large index  
B) By dividing documents by tenant and loading data into RAM only when needed  
C) By moving tenant data into faster storage only during their active time zone  
D) By duplicating all tenant data across all storage tiers  

#### 19. Which of the following are true about logging and observability in RAG systems?  
A) They help trace individual prompts through the entire pipeline  
B) They are unnecessary if you have human feedback  
C) They enable experimentation and A/B testing of system changes  
D) They only capture system-wide metrics, not component-level details  

#### 20. What are the main reasons for implementing multimodal RAG systems?  
A) To handle only text-based queries more efficiently  
B) To incorporate images, PDFs, audio, and video into retrieval and generation  
C) To use a unified transformer that understands relationships between text and images  
D) To reduce the number of tokens processed by the LLM



<br>

## Answers

#### 1. What are the primary challenges when scaling a RAG system in production?  
A) ✓ Increased latency and load on memory and compute resources — More traffic increases resource demands.  
B) ✗ Predictable user prompts that simplify testing — Prompts are unpredictable, not predictable.  
C) ✓ Maintaining high performance while handling more traffic — Critical to keep performance despite scaling.  
D) ✗ Decreasing the number of requests to reduce costs — Not a challenge but a hypothetical solution, not a scaling challenge itself.  

**Correct:** A, C


#### 2. Why is unpredictability of user prompts a significant challenge for RAG systems?  
A) ✓ Because users often ask questions that are nonsensical or out of scope — Real users can be creative or confusing.  
B) ✗ Because all prompts can be anticipated with enough testing — Impossible to predict every prompt.  
C) ✓ Because unpredictable prompts can cause unexpected system failures — Unhandled inputs can break the system.  
D) ✗ Because it allows the system to cache all possible responses — Unpredictability makes caching all responses impossible.  

**Correct:** A, C


#### 3. Which of the following are common issues with real-world data used in RAG systems?  
A) ✓ Data is often fragmented and missing metadata — Real data is messy and incomplete.  
B) ✗ Data is always clean and well-structured — Rarely true in production.  
C) ✓ Much data is non-textual, such as images and PDFs — Multimodal data is common.  
D) ✗ Data extraction tools are unnecessary for knowledge base construction — Extraction tools are essential for non-text data.  

**Correct:** A, C


#### 4. What are the key software performance metrics to monitor in a RAG system?  
A) ✓ Latency, throughput, memory usage, and compute usage — Core system performance metrics.  
B) ✗ User satisfaction and response quality — These are quality metrics, not software performance metrics.  
C) ✗ Number of human feedback ratings collected — Not a software performance metric.  
D) ✓ Token usage and citation accuracy — Token usage relates to compute; citation accuracy is a quality metric but often tracked alongside performance.  

**Correct:** A, D (D is borderline but relevant)


#### 5. Which evaluation method balances cost and flexibility by using a language model to judge relevance?  
A) ✗ Code-based evaluators — Cheap but inflexible.  
B) ✗ Human feedback — Most costly, not cost-effective.  
C) ✓ LLM as a judge — Balances cost and flexibility well.  
D) ✗ Automated unit tests — Limited to code correctness, not relevance judgment.  

**Correct:** C


#### 6. What is the main benefit of using human feedback in RAG system evaluation?  
A) ✗ It is the cheapest evaluation method — It is the most expensive.  
B) ✓ It captures nuances that automated methods miss — Humans understand subtle quality aspects.  
C) ✗ It requires no manual effort — Requires significant manual work.  
D) ✗ It can be scaled infinitely without cost — Scaling human feedback is costly.  

**Correct:** B


#### 7. How does caching improve latency in RAG systems?  
A) ✗ By skipping the retrieval step entirely — Retrieval is usually fast and necessary.  
B) ✓ By returning cached responses for similar prompts immediately — Avoids expensive generation.  
C) ✓ By feeding cached responses and user prompts to a small LLM for personalization — Improves relevance while saving time.  
D) ✗ By increasing the number of documents retrieved — Would increase latency, not reduce it.  

**Correct:** B, C


#### 8. Which of the following are true about quantization in RAG systems?  
A) ✓ It reduces model size by converting parameters to lower-bit integers — Core idea of quantization.  
B) ✗ It always causes significant drops in model accuracy — Usually minor drops, especially with 8-bit.  
C) ✓ 8-bit quantization offers a good balance between compression and performance — Widely used standard.  
D) ✓ 1-bit quantization compresses models by 32x but may reduce quality noticeably — Extreme compression with tradeoffs.  

**Correct:** A, C, D


#### 9. What are effective strategies to reduce vector database costs?  
A) ✗ Store the entire index in RAM regardless of size — Expensive and inefficient.  
B) ✓ Move rarely accessed vectors to slower storage like SSD or cloud object storage — Cost-effective tiering.  
C) ✓ Use multi-tenancy to separate tenant data and load only what is needed — Efficient resource use.  
D) ✗ Avoid sharding indexes across multiple instances — Sharding improves scalability and cost.  

**Correct:** B, C


#### 10. Why is latency primarily caused by the transformer component in a RAG pipeline?  
A) ✗ Because retrieval and database queries are computationally expensive — Usually fast operations.  
B) ✓ Because transformer-based LLM calls require significant compute time — Main bottleneck.  
C) ✗ Because rerankers always add the most latency — Rerankers are generally faster than LLMs.  
D) ✗ Because caching eliminates all latency from transformers — Caching helps but doesn’t eliminate transformer latency.  

**Correct:** B


#### 11. Which of the following are valid methods to secure a RAG knowledge base?  
A) ✓ Authenticate users to restrict access to authorized data only — Fundamental security practice.  
B) ✗ Store all tenant data in a single database without separation — Increases risk of data leakage.  
C) ✓ Encrypt text chunks and decrypt them only when building prompts — Protects data at rest.  
D) ✓ Run the entire RAG system locally on-premises for maximum control — Avoids cloud exposure.  

**Correct:** A, C, D


#### 12. What risks are associated with vector databases in RAG systems?  
A) ✓ Vector reconstruction attacks that recover original text from embeddings — Proven vulnerability.  
B) ✗ Complete immunity to hacking due to encryption — No system is completely immune.  
C) ✓ Data leakage if vectors are stored unencrypted — Unencrypted vectors can leak info.  
D) ✗ No risk because vectors cannot be reverse-engineered — Reverse engineering is possible.  

**Correct:** A, C


#### 13. In multimodal RAG systems, what is the role of a multimodal embedding model?  
A) ✓ To represent text and images in a shared vector space — Enables unified retrieval.  
B) ✗ To process only text data for retrieval — Multimodal means multiple data types.  
C) ✓ To tokenize images into patch-based tokens for transformer input — Part of image processing.  
D) ✗ To separate text and image processing into different pipelines — Multimodal models unify processing.  

**Correct:** A, C


#### 14. How does PDF RAG handle information-dense documents like slides and PDFs?  
A) ✗ By treating the entire document as a single vector — Too coarse, loses detail.  
B) ✓ By splitting documents into patches and vectorizing each patch — Enables fine-grained retrieval.  
C) ✗ By ignoring images and charts in the document — These are important information sources.  
D) ✗ By using sophisticated detection algorithms to extract text only — Modern approach uses patch vectorization, not just text extraction.  

**Correct:** B


#### 15. Which of the following best describes the trade-offs involved in production RAG system optimization?  
A) ✗ Always prioritize response quality over cost and latency — Must balance all three.  
B) ✓ Balance cost, speed, and quality to meet application requirements — Realistic approach.  
C) ✗ Minimize latency at the expense of system security — Security cannot be sacrificed.  
D) ✗ Ignore user satisfaction metrics to reduce compute costs — User satisfaction is critical.  

**Correct:** B


#### 16. What is the purpose of a router LLM in a RAG pipeline?  
A) ✗ To generate final responses to user prompts — That’s the main LLM’s job.  
B) ✓ To skip unnecessary processing steps and reduce latency — Routes prompts efficiently.  
C) ✗ To cache responses for repeated queries — Caching is a separate mechanism.  
D) ✗ To encrypt knowledge base documents — Not a router function.  

**Correct:** B


#### 17. Why might you choose to quantize embedding vectors before retrieval?  
A) ✗ To increase recall@K benchmarks significantly — Quantization may slightly reduce recall.  
B) ✓ To reduce memory footprint and speed up retrieval with minimal quality loss — Main benefit.  
C) ✗ To make vectors incompatible with approximate nearest neighbor (ANN) algorithms — Quantized vectors still work with ANN.  
D) ✗ To eliminate the need for reranking — Reranking is still needed for precision.  

**Correct:** B


#### 18. How can multi-tenancy improve vector database efficiency?  
A) ✗ By storing all users’ data in a single large index — Inefficient and risky.  
B) ✓ By dividing documents by tenant and loading data into RAM only when needed — Saves resources.  
C) ✓ By moving tenant data into faster storage only during their active time zone — Optimizes cost and performance.  
D) ✗ By duplicating all tenant data across all storage tiers — Wasteful and costly.  

**Correct:** B, C


#### 19. Which of the following are true about logging and observability in RAG systems?  
A) ✓ They help trace individual prompts through the entire pipeline — Essential for debugging.  
B) ✗ They are unnecessary if you have human feedback — Observability complements feedback.  
C) ✓ They enable experimentation and A/B testing of system changes — Critical for iterative improvement.  
D) ✗ They only capture system-wide metrics, not component-level details — Good observability captures both.  

**Correct:** A, C


#### 20. What are the main reasons for implementing multimodal RAG systems?  
A) ✗ To handle only text-based queries more efficiently — Multimodal means handling multiple data types.  
B) ✓ To incorporate images, PDFs, audio, and video into retrieval and generation — Expands system capabilities.  
C) ✓ To use a unified transformer that understands relationships between text and images — Enables joint understanding.  
D) ✗ To reduce the number of tokens processed by the LLM — Multimodal often increases token count.  

**Correct:** B, C